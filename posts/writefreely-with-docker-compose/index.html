<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <title>Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="" />

    <meta property="og:title" content="Writefreely with Docker Compose" />
    <meta property="og:description" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ionsqr.github.io/posts/writefreely-with-docker-compose/" />
    <meta itemprop="name" content="Writefreely with Docker Compose">
    <meta itemprop="description" content="">
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Writefreely with Docker Compose"/>
    <meta name="twitter:description" content=""/>

    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">

    
    <link rel="stylesheet" href="https://ionsqr.github.io/scss/style.min.c535b8bc90eb1287432762da2e2ef5fb3d2f9583e20de56032f1f77e3cbabe05.css" >
</head>
<body>
    <header>
    <div class="header header-frame">
        <div>
          
            <h1 class="header__title">Writefreely with Docker Compose</h1>
          
            
        </div>
        <nav class="header-nav">
            <ul class="header-nav-list header-nav-list--menu">
                
                
                    
                        <li class="header-nav-list__item">
                            <a class="header-nav-list__link" href="/about/">
                                
                                <span>About</span>
                            </a>
                        </li>
                    
                
                    
                        <li class="header-nav-list__item">
                            <a class="header-nav-list__link" href="/posts/">
                                
                                <span>Posts</span>
                            </a>
                        </li>
                    
                
            </ul>
            <button class="header-nav-list__nav-btn ">navigation</button>
        </nav>
        <button class="mb-header__menu-btn">
            <span class="mb-header__menu-btn-line"></span>
            <span class="mb-header__menu-btn-line"></span>
            <span class="mb-header__menu-btn-line"></span>
        </button>
    </div>
    <nav id="mobile-header-nav" class="mb-header-nav">
  
  
  <button class="mb-header-nav__close-btn flex-center">
    <svg
            class="mb-header-nav__svg-icon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="32"
            height="32"
            >
            <path
                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                />
            <path d="M0 0h24v24H0z" fill="none" />
        </svg>
    </button>
    
    <div class="mb-header-nav__wrapper">
        <div class="mb-header-nav__container">
            <svg
                width="240"
                height="72"
                viewBox="0 0 240 72"
                class="mb-header-nav__title"
                >
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">
                Tags
                </text>
            </svg>
            <ul class="mb-header-nav-list">
                
                    
                        
                          <li class="mb-header-nav-list__item ">
                        <a class="mb-header-nav-list__link" href="https://ionsqr.github.io/tags/notes/"
                                                            >Notes</a
                                                        >
                    </li>
                        
                    
                
            </ul>
        </div>
        <div class="mb-header-nav__container">
            <svg
                width="240"
                height="72"
                viewBox="0 0 240 72"
                class="mb-header-nav__title"
                >
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">
                Menu
                </text>
            </svg>
            <ul class="mb-header-nav-list">
                
                
                    
                      <li class="mb-header-nav-list__item ">
                            <a class="mb-header-nav-list__link" href="/about/">
                                About
                            </a>
                        </li>
                    
                
                    
                      <li class="mb-header-nav-list__item ">
                            <a class="mb-header-nav-list__link" href="/posts/">
                                Posts
                            </a>
                        </li>
                    
                
            </ul>
        </div>
    </div>
</nav>

</header>



    <div id="content">
<article class="post">
  
    <div class="post-content"><p>Download the stable release as mentioned on <a href="https://writefreely.org/start">Writefreely</a> using wget command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>sudo wget https:<span style="color:#998;font-style:italic">//github.com/writefreely/writefreely/releases/download/v0.13.1/writefreely_0.13.1_linux_amd64.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>sudo tar <span style="color:#000;font-weight:bold">-</span>zxvf writefreely_0<span style="color:#099">.13.1</span>_linux_amd64.tar.gz
</span></span></code></pre></div><p>Generate config.ini before generating keys</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>cd writefreely
</span></span><span style="display:flex;"><span>sudo .<span style="color:#000;font-weight:bold">/</span>writefreely <span style="color:#000;font-weight:bold">--</span>config
</span></span></code></pre></div><p>My current setup is, you can configure as you like</p>
<ul>
<li>Server setup</li>
<li>Production, behind reverse proxy</li>
<li>Database setup</li>
<li>SQLite</li>
</ul>
<p>Generate keys</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span> sudo .<span style="color:#000;font-weight:bold">/</span>writefreely <span style="color:#000;font-weight:bold">--</span>gen<span style="color:#000;font-weight:bold">-</span>keys
</span></span></code></pre></div><p>Locate keys directory and make it a writeable file</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>cd keys
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#099">777</span> <span style="color:#000;font-weight:bold">*</span>keys.file<span style="color:#000;font-weight:bold">*</span>
</span></span></code></pre></div><p>Create a docker-compose.yml file according to your writefreely directory:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>writefreely:
</span></span><span style="display:flex;"><span>    image: writeas<span style="color:#000;font-weight:bold">/</span>writefreely:latest
</span></span><span style="display:flex;"><span>    container_name: writefreely
</span></span><span style="display:flex;"><span>    restart: unless<span style="color:#000;font-weight:bold">-</span>stopped
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#34;./writefreely:/go/src/app&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#34;./writefreely/config.ini:/go/config.ini&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#34;./writefreely/keys:/go/keys&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#34;./writefreely/writefreely.db:/go/writefreely.db&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//#change ports accordingly
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    ports:
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#34;8080:8080&#34;</span>
</span></span><span style="display:flex;"><span>    networks:
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">default</span>
</span></span></code></pre></div><p>Start your container</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>sudo docker<span style="color:#000;font-weight:bold">-</span>compose up <span style="color:#000;font-weight:bold">-</span>d
</span></span></code></pre></div><p>You can now navigate to your public url based on your configuration, however you will get into popup message said failed to post, as you can see the log on your container there is an attempt to write a readonly database, go to your .db file directory and you can do like chown command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>cd writefreely
</span></span><span style="display:flex;"><span>sudo chown <span style="color:#099">2</span>:<span style="color:#099">2</span> writefreely.db
</span></span></code></pre></div></div>
  
</article>
<button class="floating-button">
    <a class="floating-button__link" href="https://ionsqr.github.io">
        <span>home</span>
    </a>
</button>


    </div>
    
    <footer class="post-footer">
    <div class="footer">
        
            <div>2022 © Ion Orion Sugiarmawan</div>
        
        <div class="footer__socials">










</div>
    </div>
</footer>


    
    
      
<script src="https://ionsqr.github.io/js/script.js"></script>

    
  </body>
</html>
